/* style.css */
:root{
  --bg:#050505; --panel:#0a0a0aef; --divider:#333; --text:#f0f0f0;
  --gold-1: #bf953f; --gold-2: #fcf6ba; --gold-3: #b38728; --gold-4: #fbf5b7; --gold-5: #aa771c;
  --silver-1: #bcc6cc; --silver-2: #eee; --silver-3: #999;
  --bronze-1: #cd7f32; --bronze-2: #eec7a3; --bronze-3: #8c5e2c;
  --card-bg-1: #fffce6; --card-bg-2: #f7e8a4; --card-text: #3d2b05;
  --font-display: 'Cinzel', serif;
  --font-body: 'Playfair Display', serif;
}
*{box-sizing:border-box}
body{margin:0; background:var(--bg); color:var(--text); font-family:var(--font-body); overflow-x:hidden;}
#p5-background { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.6; }

/* --- UI General --- */
#login-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: #000; z-index: 10000; display: flex; justify-content: center; align-items: center;
  background-image: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
}
.login-box {
  background: var(--panel); border: 2px solid var(--gold-5);
  padding: 40px; width: 90%; max-width: 400px; text-align: center;
  box-shadow: 0 0 60px rgba(191, 149, 63, 0.3); border-radius: 8px;
}
.login-box h1 { font-family: var(--font-display); color: var(--gold-2); margin-bottom: 10px; text-transform: uppercase; }
.login-box p { color: #888; margin-bottom: 30px; }
.input-group { margin-bottom: 20px; text-align: left; }
.input-group label { display: block; color: var(--gold-4); margin-bottom: 5px; font-family: var(--font-display); }
.input-group input { width: 100%; padding: 12px; background: #000; border: 1px solid var(--gold-5); color: #fff; font-family: var(--font-body); font-size: 16px; outline: none; }
.btn-login { width: 100%; padding: 12px; background: linear-gradient(45deg, var(--gold-3), var(--gold-1)); border: none; color: #000; font-family: var(--font-display); font-weight: 900; cursor: pointer; margin-top: 10px; font-size: 16px; transition: 0.3s; }
.btn-login:hover { filter: brightness(1.2); letter-spacing: 1px; }
.error-msg { color: #ff4444; margin-top: 15px; display: none; }

#app-container { display: none; opacity: 0; transition: opacity 1s; }

.mobile-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.95); z-index: 9999; display: flex; justify-content: center; align-items: center; padding: 20px; text-align: center; }
.mobile-msg { background: var(--panel); border: 2px solid var(--gold-5); padding: 30px; border-radius: 8px; max-width: 400px; box-shadow: 0 0 50px var(--gold-5); }
.mobile-msg h2 { font-family: var(--font-display); color: var(--gold-2); font-size: 24px; margin-top: 0; text-transform: uppercase; }
.mobile-msg p { font-family: var(--font-body); font-size: 18px; line-height: 1.5; color: #ddd; }
.mobile-msg button { margin-top: 20px; padding: 10px 20px; background: transparent; border: 1px solid var(--gold-2); color: var(--gold-2); font-family: var(--font-display); text-transform: uppercase; cursor: pointer; }

#slot-search-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); z-index: 5000; display: none; justify-content: center; align-items: flex-start; padding-top: 100px; }
.search-modal-content { background: var(--panel); border: 1px solid var(--gold-5); width: 90%; max-width: 500px; border-radius: 8px; padding: 20px; box-shadow: 0 0 30px #000; }
.search-modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.search-modal-header h3 { margin: 0; font-family: var(--font-display); color: var(--gold-2); }
.close-modal { cursor: pointer; font-size: 24px; color: #999; }
#slot-search-input { width: 100%; padding: 12px; background: #000; border: 1px solid var(--gold-5); color: #fff; font-family: var(--font-body); font-size: 16px; margin-bottom: 15px; }
#slot-search-results { max-height: 300px; overflow-y: auto; display: flex; flex-direction: column; gap: 5px; }
.search-result-item { padding: 10px; background: #ffffff10; cursor: pointer; display: flex; align-items: center; gap: 10px; transition: background 0.2s; }
.search-result-item:hover { background: var(--gold-5); color: #000; }
.search-result-item img { width: 24px; border-radius: 2px; }

/* --- Nav --- */
.hub-nav { display: flex; justify-content: center; gap: 5px; padding: 10px; background: #0c0c0c; border-bottom: 2px solid var(--gold-5); position: sticky; top: 0; z-index: 100; }
.tab-btn { font-family: var(--font-display); font-weight: 700; font-size: 16px; letter-spacing: 1px; text-transform: uppercase; padding: 12px 24px; border: none; background: transparent; color: var(--gold-4); cursor: pointer; transition: all .2s; border-bottom: 3px solid transparent; }
.tab-btn:hover { color: #fff; background: #ffffff10; }
.tab-btn.active { color: var(--gold-2); border-bottom-color: var(--gold-2); }
.user-info { position: absolute; right: 20px; top: 15px; display: flex; align-items: center; gap: 10px; }
.user-name { color: var(--gold-2); font-family: var(--font-display); font-size: 14px; display: none; }
@media(min-width: 768px) { .user-name { display: block; } }
.btn-logout { background: transparent; border: 1px solid #444; color: #888; cursor: pointer; font-size: 10px; padding: 4px 8px; }
.tab-content { display: none; }
.tab-content.active { display: block; }

/* --- Top Builder --- */
#app-top-builder .app{max-width:1400px; margin:20px auto 0; padding:0 20px 180px;}
#app-top-builder .topbar{text-align:center; margin-bottom:30px; padding: 20px; background: linear-gradient(to bottom, #0000, #000a); border-bottom: 1px solid #ffffff20;}
#app-top-builder .title{ font-family: var(--font-display); font-weight:900; font-size:42px; letter-spacing:2px; background: linear-gradient(to right, var(--gold-1), var(--gold-2), var(--gold-3), var(--gold-4), var(--gold-5)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; text-transform: uppercase; margin: 0; }
#app-top-builder .hint{color:#bbb; font-size:16px; font-family:var(--font-display); letter-spacing:1px; margin-top: 8px;}
#app-top-builder .grid{ display:grid; gap:20px; grid-template-columns:1fr 1fr 1fr 0.8fr; }
#app-top-builder .col{background:var(--panel); border:1px solid #ffffff15; border-radius:4px; padding:15px; backdrop-filter: blur(10px); box-shadow: 0 10px 30px #00000050;}
#app-top-builder .col h2{margin:0 0 15px 0; font-size:24px; color:var(--gold-2); text-align:center; font-family: var(--font-display); text-transform: uppercase; letter-spacing: 1px; border-bottom: 1px solid var(--gold-5); padding-bottom: 10px;}
#app-top-builder .slots{min-height: 600px; display:grid; grid-template-rows: repeat(var(--rows), 1fr); gap:10px;}
@media (max-width: 1100px){ #app-top-builder .grid{grid-template-columns:1fr 1fr; gap:15px} #app-top-builder .col:nth-child(3), #app-top-builder .col:nth-child(4) { grid-column: span 1; } }
@media (max-width: 768px){ #app-top-builder .grid{grid-template-columns:1fr} }
#app-top-builder .slot{ position:relative; display:flex; align-items:center; gap:15px; border:1px solid #ffffff10; background: #00000060; padding:4px 12px 4px 60px; min-height: 55px; transition: all .3s cubic-bezier(0.25, 0.8, 0.25, 1); cursor: pointer; }
#app-top-builder .slot:hover { background: #ffffff08; border-color: var(--gold-5); }
#app-top-builder .slot > * { pointer-events: none; }
#app-top-builder .slot .num{ position:absolute; left:10px; font-family: var(--font-display); width:40px; height:100%; display:flex; align-items:center; justify-content:center; font-size:20px; font-weight:900; color:#ffffff40; border-right: 1px solid #ffffff10; }
#app-top-builder .slot .photo{ width:44px; height:44px; border-radius:50%; border:2px solid var(--gold-1); overflow:hidden; display:none; background:#111; flex-shrink:0; box-shadow: 0 0 15px #000; }
#app-top-builder .slot .photo img{width:100%; height:100%; object-fit:cover}
#app-top-builder .slot .name { font-family: var(--font-display); font-size: 15px; letter-spacing: 1px; text-transform: uppercase; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex: 1; color: #999; display: flex; align-items: center; gap: 10px; }
#app-top-builder .slot-flag { width: 24px; height: auto; border-radius: 2px; box-shadow: 0 2px 5px #000; }
#app-top-builder .slot.drag-hover { background: #ffffff10 !important; border-color: var(--gold-2) !important; transform: scale(1.03); z-index:10; }
#app-top-builder .slot.occupied { background: linear-gradient(to right, #111, #222); border-color: var(--gold-5); }
#app-top-builder .slot.occupied .name { color: #fff; font-weight: 700; }
#app-top-builder .slot.occupied .num { color: var(--gold-2); text-shadow: 0 0 10px var(--gold-5); }
#app-top-builder .slot[data-band="E"].occupied { background: #1a1a1a; border-color: var(--divider); }
#app-top-builder .slot[data-band="E"].occupied .num { color: var(--silver-3); }
#app-top-builder .slot[data-band="E"] .num { font-size: 16px; }
#app-top-builder .slot[data-rank="3"].occupied { background: linear-gradient(135deg, var(--bronze-3), var(--bronze-1)); border: 1px solid var(--bronze-2); }
#app-top-builder .slot[data-rank="2"].occupied { background: linear-gradient(135deg, var(--silver-3), var(--silver-1)); border: 1px solid var(--silver-2); color: #000; }
#app-top-builder .slot[data-rank="1"] { min-height: 75px; }
#app-top-builder .slot[data-rank="1"].occupied { background: linear-gradient(135deg, var(--gold-5), var(--gold-1) 30%, var(--gold-2) 50%, var(--gold-1) 70%, var(--gold-3)); border: 2px solid var(--gold-2); box-shadow: 0 0 30px var(--gold-5); animation: top-builder-winner-pulse 4s infinite alternate; }
#app-top-builder .slot[data-rank="1"].occupied .name { color: #000; font-weight: 900; font-size: 22px; }
#app-top-builder .slot[data-rank="1"].occupied .num { color: #000; border-right-color: #00000030; font-size: 28px; }
@keyframes top-builder-winner-pulse { 0% { box-shadow: 0 0 20px var(--gold-5); } 100% { box-shadow: 0 0 50px var(--gold-2), inset 0 0 20px var(--gold-4); } }
#app-top-builder .pool{margin-top:30px; background:var(--panel); border:1px solid var(--gold-5); backdrop-filter: blur(10px); padding:25px; border-radius: 4px;}
#app-top-builder .pool h3{font-family: var(--font-display); color: var(--gold-2); font-size: 22px; margin: 0 0 20px 0; text-transform: uppercase; letter-spacing: 2px;}
#app-top-builder .pool.drag-hover { outline: 2px dashed var(--gold-2); background: #ffffff08; }
#app-top-builder .pool-header { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px; margin-bottom: 20px; }
#app-top-builder .pool-header h3 { margin: 0; }
#app-top-builder #search-bar { background: #00000050; border: 1px solid var(--gold-5); border-radius: 3px; color: var(--text); padding: 10px 15px; font-size: 16px; min-width: 300px; }
#app-top-builder #search-bar:focus { background: #000; border-color: var(--gold-2); outline: none; }
#app-top-builder .banca-container { padding: 15px; background: #00000030; border-radius: 4px; border: 1px solid #ffffff10; margin-bottom: 20px; }
#app-top-builder .banca-container h4 { margin: 0 0 10px 0; font-family: var(--font-display); color: var(--silver-1); text-transform: uppercase; letter-spacing: 1px; font-weight: 700; }
#app-top-builder #banca-slots { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; min-height: auto; }
@media (max-width: 768px) { #app-top-builder #banca-slots { grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 480px) { #app-top-builder #banca-slots { grid-template-columns: repeat(2, 1fr); } }
#app-top-builder .cards{display:flex; flex-wrap:wrap; gap:10px}
#app-top-builder .card{ background: linear-gradient(145deg, var(--card-bg-1) 10%, var(--card-bg-2) 90%); color: var(--card-text); font-family: var(--font-display); font-weight: 800; font-size: 13px; letter-spacing: 0.5px; padding: 8px 14px; cursor: grab; user-select: none; border: 1px solid var(--gold-1); border-radius: 3px; box-shadow: 0 4px 8px #00000060; display: flex; align-items: center; gap: 8px; transition: all .15s ease-out; }
#app-top-builder .card:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 8px 20px #00000080; background: var(--card-bg-1); }
#app-top-builder .card:active{cursor:grabbing; transform:scale(0.98);}
#app-top-builder .card.ghost { opacity: 0.4; filter: grayscale(1) brightness(0.7); }
#app-top-builder .card-flag { width: 20px; height: 15px; object-fit: cover; border-radius: 2px; box-shadow: 0 1px 3px #00000040; }
#app-top-builder .foot{margin-top: 50px; display:flex; justify-content:center; padding: 0 20px;}
#app-top-builder .bar{background: #111; border:1px solid var(--gold-5); padding:15px 25px; display:flex; gap:15px; align-items:center; flex-wrap:wrap; box-shadow: 0 10px 40px #000; border-radius: 4px;}
#app-top-builder .btn{border:0; padding:12px 24px; font-family: var(--font-display); font-weight:700; letter-spacing: 1px; text-transform: uppercase; cursor:pointer; transition: all .2s; background: transparent; color: var(--gold-2); border: 1px solid var(--gold-5);}
#app-top-builder .btn:hover{ background: var(--gold-5); color: #000; box-shadow: 0 0 15px var(--gold-5); }
#app-top-builder .btn.primary{ background: linear-gradient(135deg, var(--gold-1), var(--gold-5)); color:#000; border:none; }
#app-top-builder .btn.primary:hover{ filter: brightness(1.2); }
#app-top-builder .sep{width:1px; height:30px; background:var(--divider); margin:0 10px}
#app-top-builder .status{font-family: var(--font-display); color:var(--gold-4); margin-left:15px}
#save-status { position: fixed; bottom: 20px; right: 20px; background: #000; border: 1px solid var(--gold-5); color: var(--gold-2); padding: 10px 20px; font-family: var(--font-display); font-size: 12px; border-radius: 20px; opacity: 0; transition: opacity 0.5s; pointer-events: none; }
#save-status.show { opacity: 1; }

/* --- Scoring App --- */
#app-scoring .app{max-width:700px; margin:20px auto; padding:0 20px 100px;}
#app-scoring .topbar{text-align:center; margin-bottom:30px; padding: 20px 0; border-bottom: 1px solid #ffffff20;}
#app-scoring .title{ font-family: var(--font-display); font-weight:900; font-size:42px; letter-spacing:2px; background: linear-gradient(to right, var(--gold-1), var(--gold-2), var(--gold-3), var(--gold-4), var(--gold-5)); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; text-transform: uppercase; margin: 0; }
#app-scoring .hint{color:#bbb; font-size:16px; font-family:var(--font-display); letter-spacing:1px; margin-top: 8px;}
#app-scoring .carousel-nav{ display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; padding: 10px; background: #0a0a0a; border-radius: 4px; }
#app-scoring .nav-btn{ background: var(--gold-5); color: #000; border:none; padding: 12px 20px; font-family: var(--font-display); font-weight: 700; font-size: 16px; cursor:pointer; transition: all .2s; border-radius: 3px; }
#app-scoring .nav-btn:hover{ background: var(--gold-2); }
#app-scoring .nav-btn:disabled{ background: var(--divider); color: #777; cursor:not-allowed; }
#app-scoring #counter{ font-size: 18px; font-family: var(--font-display); color: var(--gold-2); }
#app-scoring .carousel-wrapper{ perspective: 1000px; }
#app-scoring #card-container{ position:relative; min-height: 550px; }
#app-scoring .score-card{ position:absolute; width:100%; top:0; left:0; background: #111; border:1px solid var(--gold-5); border-radius:8px; padding:25px; box-shadow: 0 10px 40px #000; transition: transform .5s ease-out, opacity .5s ease-out; opacity: 0; transform: translateX(100%) rotateY(-20deg); }
#app-scoring .score-card.active{ opacity: 1; transform: translateX(0) rotateY(0); z-index: 10; }
#app-scoring .score-card.exiting{ opacity: 0; transform: translateX(-100%) rotateY(20deg); z-index: 5; }
#app-scoring .card-header { display: flex; flex-direction: column; align-items: center; text-align: center; gap: 15px; border-bottom: 1px solid var(--divider); padding-bottom: 20px; margin-bottom: 20px; }
@media(min-width: 600px) { #app-scoring .card-header { flex-direction: row; text-align: left; } }
.card-photo-wrapper { width: 130px; height: 130px; border-radius: 12px; border: 2px solid var(--gold-2); box-shadow: 0 0 15px rgba(191, 149, 63, 0.3); background: #000; overflow: hidden; position: relative; flex-shrink: 0; }
.card-photo { width: 160.71%; max-width: none; height: auto; position: absolute; left: 50%; transform: translateX(-50%); top: 0; }
@media(max-width: 600px) { .card-photo-wrapper { width: 150px; height: 150px; } }
.card-names{flex:1;}
.card-country{ font-family: var(--font-display); font-size: 32px; font-weight: 900; color: var(--gold-2); margin: 0; text-transform: uppercase; display:flex; align-items:center; justify-content:center; gap:10px;}
@media(min-width: 600px){ .card-country{justify-content:flex-start;} }
.mini-flag { width: 24px; height: auto; border-radius: 2px; opacity: 0.8; }
.card-delegate{ font-family: var(--font-body); font-size: 20px; color: var(--text); margin: 5px 0 0 0; font-style: italic; }
#app-scoring .card-scores{ display:grid; grid-template-columns: 1fr 1fr; gap: 25px; }
#app-scoring .score-col h3{ font-family: var(--font-display); color: var(--gold-4); font-size: 24px; margin: 0 0 15px 0; letter-spacing: 1px; border-bottom: 1px solid var(--gold-5); padding-bottom: 10px; }
#app-scoring .score-row{ display:flex; justify-content:space-between; align-items:center; margin-bottom: 15px; }
#app-scoring .score-row label{ font-family: var(--font-body); font-size: 18px; font-weight: 700; }
#app-scoring .score-row input{ width: 80px; height: 50px; background: #000; border: 1px solid var(--divider); color: var(--gold-2); font-family: var(--font-display); font-size: 24px; font-weight: 700; text-align: center; border-radius: 4px; }
#app-scoring .score-row input:focus{ outline: none; border-color: var(--gold-2); background: #111; }
#app-scoring .ranking-container { margin-top: 40px; background: var(--panel); border: 1px solid var(--gold-5); border-radius: 4px; padding: 20px; }
#app-scoring .ranking-container h2 { font-family: var(--font-display); color: var(--gold-2); text-align: center; text-transform: uppercase; font-size: 24px; margin: 0 0 20px 0; letter-spacing: 1px; border-bottom: 1px solid var(--gold-5); padding-bottom: 10px; }
#app-scoring .rank-row { display: flex; align-items: center; gap: 15px; padding: 10px; border-radius: 4px; border: 1px solid #ffffff10; margin-bottom: 8px; transition: all .2s; }
#app-scoring .rank-row .rank-pos { font-family: var(--font-display); font-weight: 900; font-size: 20px; color: #ffffff40; width: 35px; text-align: center; flex-shrink: 0; border-right: 1px solid #ffffff10; }
#app-scoring .rank-row .rank-name { font-family: var(--font-display); font-size: 16px; text-transform: uppercase; letter-spacing: 1px; color: #fff; font-weight: 700; display: flex; align-items: center; gap: 10px; flex-grow: 1; }
#app-scoring .rank-row .rank-flag { width: 24px; height: auto; border-radius: 2px; }
#app-scoring .rank-row .rank-score { font-family: var(--font-display); font-size: 20px; font-weight: 900; color: var(--gold-2); }
#app-scoring .rank-row[data-rank="1"] { background: linear-gradient(135deg, var(--gold-5), var(--gold-1) 30%, var(--gold-2) 50%, var(--gold-1) 70%, var(--gold-3)); border: 1px solid var(--gold-2); }
#app-scoring .rank-row[data-rank="1"] .rank-name, #app-scoring .rank-row[data-rank="1"] .rank-pos, #app-scoring .rank-row[data-rank="1"] .rank-score { color: #000; }
#app-scoring .rank-row[data-rank="1"] .rank-pos { border-right-color: #00000030; }
#app-scoring .rank-row[data-rank="2"] { background: linear-gradient(135deg, var(--silver-3), var(--silver-1)); border: 1px solid var(--silver-2); }
#app-scoring .rank-row[data-rank="2"] .rank-name, #app-scoring .rank-row[data-rank="2"] .rank-pos, #app-scoring .rank-row[data-rank="2"] .rank-score { color: #000; }
#app-scoring .rank-row[data-rank="2"] .rank-pos { border-right-color: #00000030; }
#app-scoring .rank-row[data-rank="3"] { background: linear-gradient(135deg, var(--bronze-3), var(--bronze-1)); border: 1px solid var(--bronze-2); }
#app-scoring .rank-row[data-rank="3"] .rank-name, #app-scoring .rank-row[data-rank="3"] .rank-pos { color: #fff; text-shadow: 0 1px 1px #000; }
#app-scoring .rank-row[data-rank="3"] .rank-score { color: var(--gold-4); }

/* =========================================
   EXPORT STYLES - FIXED MATHEMATICS
========================================= */
#export-stage {
  width: 1080px; height: 1350px;
  background: radial-gradient(circle at center, #1a1a1a 0%, #000 100%);
  padding: 40px 50px;
  display: flex; flex-direction: column; align-items: center;
  border: 20px solid var(--gold-5); box-sizing: border-box;
  font-family: var(--font-display); overflow: hidden;
}

.export-header { text-align: center; margin-bottom: 20px; flex-shrink: 0; }
.export-header h1 { color: var(--gold-2); font-size: 60px; margin: 0; text-transform: uppercase; letter-spacing: 5px; text-shadow: 0 5px 15px #000; }
.export-header h2 { color: var(--gold-5); font-size: 35px; margin: 5px 0 0 0; letter-spacing: 2px; text-transform: uppercase;}

.export-footer { margin-top: auto; width: 100%; text-align: center; border-top: 2px solid var(--gold-5); padding-top: 15px; display: flex; justify-content: space-between; color: #666; font-size: 20px; font-family: var(--font-body); flex-shrink: 0;}
.export-footer span { color: var(--gold-2); font-weight: bold; }

.export-grid { width: 100%; flex-grow: 1; display: grid; align-content: start; }

.export-item {
  background: linear-gradient(to bottom, #222, #000);
  border: 2px solid var(--gold-5); border-radius: 6px;
  display: flex; align-items: center; gap: 15px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.5);
  overflow: hidden;
}

.export-rank { font-weight: 900; color: var(--gold-2); text-align: center; border-right: 2px solid #333; display:flex; align-items:center; justify-content:center; height:100%; }
.export-flag { border-radius: 2px; box-shadow: 0 2px 5px #000; object-fit: cover; }
.export-name { color: #fff; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Special Ranks (1, 2, 3) */
.export-item[data-rank="1"] { background: linear-gradient(135deg, var(--gold-5), var(--gold-2)); border-color: #fff; }
.export-item[data-rank="1"] .export-rank, .export-item[data-rank="1"] .export-name { color: #000; }
.export-item[data-rank="1"] .export-rank { border-right-color: #000; }
.export-item[data-rank="2"] { background: linear-gradient(135deg, var(--silver-3), var(--silver-1)); border-color: #fff; }
.export-item[data-rank="2"] .export-rank, .export-item[data-rank="2"] .export-name { color: #000; }
.export-item[data-rank="2"] .export-rank { border-right-color: #000; }
.export-item[data-rank="3"] { background: linear-gradient(135deg, var(--bronze-3), var(--bronze-1)); border-color: #fff; }
.export-item[data-rank="3"] .export-rank, .export-item[data-rank="3"] .export-name { color: #fff; text-shadow: 0 1px 1px #000; }
.export-item[data-rank="3"] .export-rank { border-right-color: #000; }

/* MODE 30: 10 Rows */
.mode-30 .export-grid {
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: 1.4fr repeat(9, 1fr); 
    gap: 8px; height: 100%;
}
.mode-30 .export-item { padding: 0 10px; }
.mode-30 .export-rank { font-size: 24px; width: 40px; }
.mode-30 .export-flag { width: 40px; height: 28px; }
.mode-30 .export-name { font-size: 16px; }
.mode-30 .export-item[data-rank="1"] .export-name,
.mode-30 .export-item[data-rank="2"] .export-name,
.mode-30 .export-item[data-rank="3"] .export-name { font-size: 22px; }

/* MODE 12: 4 Rows */
.mode-12 .export-grid {
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(4, 1fr);
    gap: 20px; height: 100%;
}
.mode-12 .export-item { padding: 0 20px; }
.mode-12 .export-rank { font-size: 50px; width: 70px; }
.mode-12 .export-flag { width: 70px; height: 50px; }
.mode-12 .export-name { font-size: 28px; }

/* MODE 5: Custom */
.mode-5 .export-grid {
    display: grid; grid-template-columns: 1fr 1fr; 
    grid-template-rows: 1.2fr 1fr 1fr; gap: 30px; height: 100%;
}
.mode-5 .export-item { padding: 20px; }
.mode-5 .export-item[data-rank="1"] {
    grid-column: span 2; background: linear-gradient(135deg, var(--gold-5), var(--gold-2)); 
    border-color: #fff; justify-content: center;
}
.mode-5 .export-item[data-rank="1"] .export-rank { color: #000; font-size: 80px; width: 120px; border-right-color: #000;}
.mode-5 .export-item[data-rank="1"] .export-name { color: #000; font-size: 60px; font-weight: 900; }
.mode-5 .export-item[data-rank="1"] .export-flag { width: 100px; height: 70px; }
.mode-5 .export-rank { font-size: 60px; width: 90px; }
.mode-5 .export-flag { width: 80px; height: 55px; }
.mode-5 .export-name { font-size: 40px; }